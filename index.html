<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">
	<title>ThermoController</title>
	<meta charset="UTF-8"/>
	<link rel="stylesheet" href="js/dijit/themes/claro/claro.css"/>
	<link rel="stylesheet" href="index.css?ver=20191001"/>
	<script>dojoConfig = {parseOnLoad: true}</script>
	<script src="js/dojo/dojo.js" data-dojo-config="async: true"></script>
</head>
<body class="claro">

<div id="loading">
    loading..
</div>

<div id="content" style="visibility:hidden;">

<div    data-dojo-type="dijit/Dialog" 
        data-dojo-id="eTemp" 
        title="Modifica Temperatura">
	<div class="dijitDialogPaneContentArea">
		Temperatura (°C):
		<input  data-dojo-type="dijit/form/NumberSpinner" 
                data-dojo-props="readOnly:true" 
                data-dojo-id="eTempVal" 
                smallDelta=0.1 style="width:6em;" 
                constraints="{ min:-100,max:100,places:1}"/>
        <div>
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){eTempVal.set('value',eTempVal.get('value')-1.0);}">
                -1.0
            </button>                
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){eTempVal.set('value',eTempVal.get('value')-0.5);}">
                -0.5
            </button>
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){eTempVal.set('value',eTempVal.get('value')-0.1);}">
                -0.1
            </button>
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){eTempVal.set('value',eTempVal.get('value')+0.1);}">
                +0.1
            </button>                
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){eTempVal.set('value',eTempVal.get('value')+0.5);}">
                +0.5
            </button>                
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){eTempVal.set('value',eTempVal.get('value')+1.0);}">
                +1.0
            </button>
        </div>
	</div>
    <div class="dijitDialogPaneActionBar">
        <button data-dojo-type="dijit/form/Button" 
                type="submit" 
                data-dojo-props="onClick:function(){sts.saveTemp();}">
            Salva
        </button>
        <button data-dojo-type="dijit/form/Button" 
                type="button" 
                data-dojo-props="onClick:function(){eTemp.hide();}">
            Annulla
        </button>
    </div>
</div>

<div    data-dojo-type="dijit/Dialog" 
        data-dojo-id="eOffTime" 
        title="Autospegnimento">
	<div class="dijitDialogPaneContentArea">
		Spegni alle:
        <input  data-dojo-type="dijit/form/TextBox" 
                data-dojo-props="readOnly:true" 
                data-dojo-id="eOffTimeEdit"/>
        <div>
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){sts.updateOffTime(-3600);}">
                -1h
            </button>                
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){sts.updateOffTime(-1800);}">
                -30m
            </button>
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){sts.updateOffTime(+1800);}">
                +30m
            </button>                
            <button data-dojo-id="" 
                    data-dojo-type="dijit/form/Button" 
                    type="button" 
                    data-dojo-props="onClick:function(){sts.updateOffTime(+3600);}">
                +1h
            </button>
        </div>
	</div>
    <div class="dijitDialogPaneActionBar">
        <button data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){sts.saveOffTime()}">Salva</button>
        <button data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){sts.disableOffTime()}">Disattiva</button>
        <button data-dojo-type="dijit/form/Button" type="button" data-dojo-props="onClick:function(){eOffTime.hide()}">Annulla</button>
    </div>
</div>

<div data-dojo-type="dijit/Dialog" data-dojo-id="ptName" title="Rinomina template">
	<p class="dijitDialogPaneContentArea">
		Nome template:
		<input data-dojo-type="dijit/form/TextBox" data-dojo-id="ptNewName" style="width:6em;"/>
	</p>
    <div class="dijitDialogPaneActionBar">
        <button data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){prg.saveName(ptNewName.get('value'))}">Rinomina</button>
        <button data-dojo-type="dijit/form/Button" type="button" data-dojo-props="onClick:function(){ptName.hide();}">Annulla</button>
    </div>
</div>



<div id="status-area">

    <div id="status-info">
        <div id="power-box" class="col">
            <img alt="pwr" class="info-icon" id="power-led" src="images/spento.png?1"/>
            <div class="col">
                <div>
                    <button data-dojo-id="status_master_on" 
                            data-dojo-type="dijit/form/Button" 
                            data-dojo-props="onClick:function(){sts.confirm('Attivare impianto?','Attiva!','activate')}">
                        Accendi impianto
                    </button>
                </div>
                <div>
                    <button data-dojo-id="status_master_off" 
                            data-dojo-type="dijit/form/Button" 
                            data-dojo-props="onClick:function(){sts.confirm('Disattivare impianto?','Disattiva!','deactivate')}">
                        Spegni impianto
                    </button>            
                </div>
            </div><!--col-->  
        </div><!--power box-->    
        <div id="mode-box" class="col">		
            <div class="col">
                <div>
                    <button data-dojo-id="status_manual" 
                            data-dojo-type="dijit/form/Button" 
                            data-dojo-props="onClick:function(){sts.confirm('Passare in MANUALE?','Manuale!','manual')}">
                        Manuale
                    </button>
                </div>
                <div>
                    <button data-dojo-id="status_auto" 
                            data-dojo-type="dijit/form/Button" 
                            data-dojo-props="onClick:function(){sts.confirm('Passare in AUTOMATICO?','Automatico!','auto')}">
                        Automatico
                    </button>
                </div>
            </div><!--col-->
            <img alt="mde" class="info-icon" id="mode-led" src="images/manual.png?1"/>
        </div><!-- mode box -->
    </div><!-- status info-->
                  
    <div id="status-main">
    
        <div id="temp-pane-curr" class="status-boxes">
            <div class="status-title">
                Temperature attuali
                                <span id="update-time">--</span>

            </div>
            <div id="temp-stats">
                Temperatura: <span id="temp-label"></span>
            </div>
            <div>
                Umidità: <span id="humi-label"></span>
            </div>
            <div id="manual-pane-set">    
                Spegnimento alle:  
                <button data-dojo-id="manual_off_time" 
                        data-dojo-type="dijit/form/Button" 
                        data-dojo-props="onClick:function(){sts.setOffTime()}">
                    --:--
                </button>
            </div>
        </div><!-- temp pane curr-->

        <div id="temp-pane" class="status-boxes">
            <div class="status-title">
                Controlllo Temperature
                <div class="status-widget">
                    <button data-dojo-id="smart_temp_on" 
                            data-dojo-type="dijit/form/ToggleButton" 
                            data-dojo-props="iconClass:'dijitCheckBoxIcon'" 
                            onClick="sts.toggleSmart()">
                        smart (--.-°C)
                    </button>
                </div>
            </div>
            <div>
                <img alt="minTemp" class="temp-img" src="images/min-temp.png?1"/>
                <button data-dojo-id="min_temp" 
                        data-dojo-type="dijit/form/Button" 
                        type="submit" 
                        data-dojo-props="onClick:function(){sts.setTemp(0)}">
                    XX.X°C                
                </button>
                /
                <button data-dojo-id="min_hyst" 
                        data-dojo-type="dijit/form/Button" 
                        type="submit" 
                        data-dojo-props="onClick:function(){sts.setTemp(2)}">
                    XX.X°C                
                </button>
                <img alt="hyst-min" class="hyst-img" src="images/hyst_min.png"/>
            </div>
            <div>
                <img alt="maxTemp" class="temp-img" src="images/max-temp.png?1"/>
                <button data-dojo-id="max_temp" 
                        data-dojo-type="dijit/form/Button" 
                        type="submit" 
                        data-dojo-props="onClick:function(){sts.setTemp(1)}">
                    XX.X°C                
                </button>
                /
                <button data-dojo-id="max_hyst" 
                        data-dojo-type="dijit/form/Button" 
                        type="submit" 
                        data-dojo-props="onClick:function(){sts.setTemp(3)}">
                    XX.X°C                
                </button>
                <img alt="hyst-max" class="hyst-img" src="images/hyst_max.png?1"/>
            </div>
            <div id="excess-temp-pane">
            Shut-off delta:
                <button data-dojo-id="excess_temp" data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){sts.setTemp(4)}">
                    XX.X°C                
                </button>
                <img alt="excess" class="hyst-img" src="images/excess.png?1"/>
                <span id="excess-temp-detected" class="hidden">SOGLIA SUPERATA!</span>
            </div>        
        </div><!-- temp pane-->
    
        <div id="pellet-status" class="status-boxes">
            <div class="status-title">
                Stufa a pellet
            </div>
            <div>
                <div class="col">
                    <div>
                        <button data-dojo-id="pellet_on" data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){sts.confirm('Accendo il PELLET?','Accendi!','pellet-on')}">
                            Accendi
                        </button>                    
                    </div>
                    <div>
                        <button data-dojo-id="pellet_minimum_on" data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){sts.confirm('Pellet al MINIMO?','al minimo!','pellet-minimum-on')}">
                            minimo
                        </button>                    
                    </div>
                </div>
                <div class="col">
                            <img alt="psl" class="status-icon" id="pellet-status-led" src="images/pellet-off.png?1"/>
                </div>
                <div class="col">
                            <div>
                                <img alt="fml" class="status-icon-flame celated" id="pellet-flameout-led" src="images/flameout.png?1"/>
                            </div>
                            <div>
                                <img alt="pfl" class="status-icon-temp" id="pellet-feedback-led" src="images/min-temp.png?1"/>
                            </div>
                            <div>
                                <img alt="pmsl" class="status-icon-sub" id="pellet-minimum-status-led" src="images/pellet-modulazione.png?1"/>
                            </div>
                </div>
                <div class="col">
                    <div>
                        <button data-dojo-id="pellet_off" data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){sts.confirm('Spengo il PELLET?','Spegni!','pellet-off')}">
                            Spegni
                        </button>                    
                    </div>
                    <div>		
                        <button data-dojo-id="pellet_minimum_off" data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){sts.confirm('Pellet in modulazione?','in modulazione!','pellet-minimum-off')}">
                            modulazione
                        </button>                    
                    </div>
                </div>
            </div>
        </div><!-- pellet status-->

        <div id="gas-status" class="status-boxes">
            <div class="status-title">
                Caldaia a gas
            </div>
            <button data-dojo-id="gas_on" data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){sts.confirm('Accendo il GAS?','Accendi!','gas-on')}">
                Accendi
            </button>                    
            <img alt="gl" class="status-icon" id="gas-status-led" src="images/gas-off.png?1"/>
            <button data-dojo-id="gas_off" data-dojo-type="dijit/form/Button" type="submit" data-dojo-props="onClick:function(){sts.confirm('Spengo il GAS?','Spegni!','gas-off')}">
                Spegni
            </button>                    
        </div><!-- gas status-->

    </div><!-- status main-->
    

    <div id="events">
        <div>
            Lista degli eventi: 
            (<input data-dojo-id="eventsUseRange" 
                    data-dojo-type="dijit/form/CheckBox" 
                    onChange="evt.toggleRange();"/>
            Scegli periodo
            <div id="events-range" class="hidden">
                Dal:
                <input data-dojo-id="eventsStart" type="text" value="" data-dojo-type="dijit/form/DateTextBox" /> 
                al:
                <input data-dojo-id="eventsEnd" type="text" value="" data-dojo-type="dijit/form/DateTextBox" />
                <button data-dojo-id="eventsRangeUpdate" data-dojo-type="dijit/form/Button" onClick="evt.update()" type="button">Aggiorna!</button>
            </div>)
            <img id="events-size" src="images/enlarge.png?1" class="enlarge-img"/>
        </div>
    </div>
    <div id="messages">
        <div id="messages-queue"></div>
    </div>

</div><!-- status area-->
    





<div id="program-area">
    <div id="program-header">
        Programmazione automatica
                    <button data-dojo-id="programEdit" data-dojo-type="dijit/form/Button" onClick="prg.toggleEdit()">modifica...</button>

        <div id="today-table-div">
            <table class="program-table">
                <col class="halfCol">
                <col class="hourCol">
                <col class="halfCol">
                <col class="hourCol">
                <col class="halfCol">
                <col class="hourCol">
                <col class="halfCol">
                <col class="hourCol">
                <col class="halfCol">
                <col class="hourCol">
                <col class="halfCol">
                <col class="hourCol">
                <col class="halfCol">
                <col class="hourCol">
                <col class="halfCol">
                <col class="hourCol">
                <col class="halfCol">
                <col class="hourCol">
                <col class="halfCol">
                <col class="hourCol">
                <tr>
                    <th colspan="20" id="today-d">
                    </th>
                </tr>
                <tr class="header-row">
                    <td id="today-h-0-0">
                    </td>
                    <td id="today-h-0-1">
                    </td>
                    <td id="today-h-1-0">
                    </td>
                    <td id="today-h-1-1">
                    </td>
                    <td id="today-h-2-0">
                    </td>
                    <td id="today-h-2-1">
                    </td>
                    <td id="today-h-3-0">
                    </td>
                    <td id="today-h-3-1">
                    </td>
                    <td id="today-h-4-0">
                    </td>
                    <td id="today-h-4-1">
                    </td>
                    <td id="today-h-5-0">
                    </td>
                    <td id="today-h-5-1">
                    </td>
                    <td id="today-h-6-0">
                    </td>
                    <td id="today-h-6-1">
                    </td>
                    <td id="today-h-7-0">
                    </td>
                    <td id="today-h-7-1">
                    </td>
                    <td id="today-h-8-0">
                    </td>
                    <td id="today-h-8-1">
                    </td>
                    <td id="today-h-9-0">
                    </td>
                    <td id="today-h-9-1">
                    </td>
                </tr>
                <tr>
                    <td>
                        <img class="today-table-img" id="today-p-0-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-0-1" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-1-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-1-1" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-2-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-2-1" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-3-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-3-1" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-4-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-4-1" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-5-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-5-1" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-6-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-6-1" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-7-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-7-1" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-8-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-8-1" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-9-0" src="" />
                    </td>
                    <td>
                        <img class="today-table-img" id="today-p-9-1" src="" />
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div id="program-editor" class="hidden">
        <div id="program-change" class="celated">
            <img id="program-apply" class="button-img" src="images/apply.png?1"/>
            <span id="program-changed">Salvare il programma modificato?</span>
            <img id="program-restore" class="button-img" src="images/restore.png?1"/>
        </div>
        <div id="program-selector">
            <div id="select-pelletgas" class="hot-prg" >
                <img alt="x" id="select-pelletgas-img" src="images/pellet-gas-1.png?1"/>
                <span>Gas+Pellet</span>
            </div>
            <div id="select-gas" class="hot-prg">
                <img alt="g" id="select-gas-img" src="images/gas.png?1"/>
                <span>Gas</span>
            </div>
            <div id="select-pellet" class="hot-prg">
                <img alt="p" id="select-pellets-img" src="images/pellet.png?1"/>
                <span>Pellet</span>
            </div>
            <div id="select-off" class="cold-prg">
                <img alt="o" id="select-off-img" src="images/off-select-1.png?1"/>
                <span>Gas</span>
            </div>
            <div id="select-pellet-minimum" class="cold-prg">
                <img alt="m" id="select-pellet-minimum-img" src="images/pellet-min-1.png?1"/>
                <span>Pellet</span>
            </div>
        </div>
        <div id="program-content">
            <div id="program-table">
                <table class="program-table">
                    <col class="hourCol">
                    <col class="halfCol">
                    <col class="hourCol">
                    <col class="hourCol">
                    <col class="hourCol">
                    <col class="halfCol">
                    <col class="hourCol">
                    <col class="hourCol">
                    <col class="hourCol">
                    <col class="halfCol">
                    <col class="hourCol">
                    <tr class="header-row">
                        <th><img id="program_copy" class="copy" src="images/copy.png" /></th>
                        <th colspan="1">
                            <button data-dojo-id="program_prev_day" data-dojo-type="dijit/form/Button" onClick="prg.prevDay()" type="button">
                                &lt;
                            </button>
                        </th>
                        <th id="program-d" colspan="7"></th>
                        <th colspan="1">
                            <button data-dojo-id="program_next_day" data-dojo-type="dijit/form/Button" onClick="prg.nextDay()" type="button">
                                &gt;
                            </button>
                        </th>
                        <th><img id="program_clear" class="copy" src="images/restore.png" /></th>
                    </tr>
                    <tr>
                        <th></th>
                        <th>00</th>
                        <th>30</th>
                        <th colspan=2></th>
                        <th>00</th>
                        <th>30</th>
                        <th colspan=2></th>
                        <th>00</th>
                        <th>30</th>
                    </tr>
                    <tr>
                        <th>00</th>
                        <td id="programc-0-0"><img id="program-0-0" src="" /></td>
                        <td><img id="program-0-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>08</th>
                        <td><img id="program-8-0" src="" /></td>
                        <td><img id="program-8-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>16</th>
                        <td><img id="program-16-0" src="" /></td>
                        <td><img id="program-16-1" src="" /></td>
                        <td class="Spacer"></td>
                    </tr>
                    <tr>
                        <th>01</th>
                        <td><img id="program-1-0" src="" /></td>
                        <td><img id="program-1-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>09</th>
                        <td><img id="program-9-0" src="" /></td>
                        <td><img id="program-9-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>17</th>
                        <td><img id="program-17-0" src="" /></td>
                        <td><img id="program-17-1" src="" /></td>
                        <td class="Spacer"></td>
                    </tr>
                    <tr>
                        <th>02</th>
                        <td><img id="program-2-0" src="" /></td>
                        <td><img id="program-2-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>10</th>
                        <td><img id="program-10-0" src="" /></td>
                        <td><img id="program-10-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>18</th>
                        <td><img id="program-18-0" src="" /></td>
                        <td><img id="program-18-1" src="" /></td>
                        <td class="Spacer"></td>
                    </tr>
                    <tr>
                        <th>03</th>
                        <td><img id="program-3-0" src="" /></td>
                        <td><img id="program-3-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>11</th>
                        <td><img id="program-11-0" src="" /></td>
                        <td><img id="program-11-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>19</th>
                        <td><img id="program-19-0" src="" /></td>
                        <td><img id="program-19-1" src="" /></td>
                        <td class="Spacer"></td>
                    </tr>
                    <tr>
                        <th>04</th>
                        <td><img id="program-4-0" src="" /></td>
                        <td><img id="program-4-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>12</th>
                        <td><img id="program-12-0" src="" /></td>
                        <td><img id="program-12-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>20</th>
                        <td><img id="program-20-0" src="" /></td>
                        <td><img id="program-20-1" src="" /></td>
                        <td class="Spacer"></td>
                    </tr>
                    <tr>
                        <th>05</th>
                        <td><img id="program-5-0" src="" /></td>
                        <td><img id="program-5-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>13</th>
                        <td><img id="program-13-0" src="" /></td>
                        <td><img id="program-13-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>21</th>
                        <td><img id="program-21-0" src="" /></td>
                        <td><img id="program-21-1" src="" /></td>
                        <td class="Spacer"></td>
                    </tr>
                    <tr>
                        <th>06</th>
                        <td><img id="program-6-0" src="" /></td>
                        <td><img id="program-6-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>14</th>
                        <td><img id="program-14-0" src="" /></td>
                        <td><img id="program-14-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>22</th>
                        <td><img id="program-22-0" src="" /></td>
                        <td><img id="program-22-1" src="" /></td>
                        <td class="Spacer"></td>
                    </tr>
                    <tr>
                        <th>07</th>
                        <td><img id="program-7-0" src="" /></td>
                        <td><img id="program-7-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>15</th>
                        <td><img id="program-15-0" src="" /></td>
                        <td><img id="program-15-1" src="" /></td>
                        <td class="Spacer"></td>
                        <th>23</th>
                        <td><img id="program-23-0" src="" /></td>
                        <td><img id="program-23-1" src="" /></td>
                        <td class="Spacer"></td>
                    </tr>
                </table>
            </div>
            <div>
                Seleziona un template:
                <select data-dojo-type="dijit/form/Select" data-dojo-id="program_template_select">
                </select>
                <button data-dojo-id="program_template_set" data-dojo-type="dijit/form/Button" onClick="prg.applyTemplate()" type="button">Applica!</button>
                <button data-dojo-id="program_template_name" data-dojo-type="dijit/form/Button" onClick="prg.nameTemplate()" type="button">Rinomina...</button>
                <button data-dojo-id="program_template_edit" data-dojo-type="dijit/form/Button" onClick="prg.editTemplate()" type="button">Modifica...</button>
            </div>
        </div>
    </div>
</div><!-- program area-->



<div id="history-area">
  <div id="history-controls">
    <img id="history-size" src="images/enlarge.png?1" class="enlarge-img"/>
	 <div>
            Grafico 
            (<input data-dojo-id="historyUseRange" data-dojo-type="dijit/form/CheckBox" onChange="hst.toggleRange();"/>
            Scegli periodo
        <div id="history-range" class="hidden">
            Dal:
            <input data-dojo-id="historyStart" type="text" value="" data-dojo-type="dijit/form/DateTextBox" /> 
            al:
            <input data-dojo-id="historyEnd" type="text" value="" data-dojo-type="dijit/form/DateTextBox" />
        </div>)
		<button data-dojo-id="historyRangeUpdate" data-dojo-type="dijit/form/Button" onClick="hst.update()" type="button">Aggiorna!</button>
        <div>
            <input id="show-temp" data-dojo-type="dijit/form/CheckBox" value="1" checked onChange="hst.drawGraph()"/>Temperatura
            <input id="show-humi" data-dojo-type="dijit/form/CheckBox" value="2" onChange="hst.drawGraph()"/>Umidità
            <input id="show-ext-temp" data-dojo-type="dijit/form/CheckBox" value="3" checked onChange="hst.drawGraph()"/>Temperatura esterna
            <input id="show-ext-humi" data-dojo-type="dijit/form/CheckBox" value="4" onChange="hst.drawGraph()"/>Umidità esterna
        </div>
    </div>

    <div>
		<div id="history-stats">
			<div id="history-stats-t">
				<div id="history-stats-te"></div>
				<div id="history-stats-ex"></div>
			</div>
			<div id="history-stats-h">
				<div id="history-stats-hu"></div>
				<div id="history-stats-hx"></div>
			</div>
		</div>
    </div>
    <div>
        <button data-dojo-id="history_zoom_omin" data-dojo-type="dijit/form/Button" onClick="hst.fuzzle(-100,1)" type="button">|&lt;&lt;</button>
        <button data-dojo-id="history_zoom_left" data-dojo-type="dijit/form/Button" onClick="hst.fuzzle(-1,1)" type="button">&lt;&lt;</button>
        <button data-dojo-id="history_zoom_out" data-dojo-type="dijit/form/Button" onClick="hst.fuzzle(0,1.2)" type="button">+</button>
        <button data-dojo-id="history_zoom_reset" data-dojo-type="dijit/form/Button" onClick="hst.fuzzle(0,0)" type="button">|--|</button>
        <button data-dojo-id="history_zoom_in" data-dojo-type="dijit/form/Button" onClick="hst.fuzzle(0,0.8)" type="button">-</button>
        <button data-dojo-id="history_zoom_right" data-dojo-type="dijit/form/Button" onClick="hst.fuzzle(1,1)" type="button">&gt;&gt;</button>
        <button data-dojo-id="history_zoom_omax" data-dojo-type="dijit/form/Button" onClick="hst.fuzzle(100,1)" type="button">&gt;&gt;|</button>
    </div>
</div><!-- history controls-->
    <div id="history-graph">
    </div>
    <div id="history-legend">
    </div>
</div><!-- history area-->

<div id="stats-area">
  <div id="stats-controls">
	 <div>
        <div>
            <input data-dojo-id="statsUseRange" data-dojo-type="dijit/form/CheckBox" onChange="sta.toggleRange();"/>
            Scegli periodo
			<button data-dojo-id="statsRangeUpdate" data-dojo-type="dijit/form/Button" onClick="sta.update()" type="button">Aggiorna!</button>
        </div>
		<div id="stats-range" class="hidden">
			Dal:
			<input data-dojo-id="statsStart" type="text" value="" data-dojo-type="dijit/form/DateTextBox" /> 
			al:
			<input data-dojo-id="statsEnd" type="text" value="" data-dojo-type="dijit/form/DateTextBox" />
		</div>
		<div>
            <div>
                <input id="stats-show-a" data-dojo-type="dijit/form/CheckBox" value="1" checked onChange="sta.drawGraph()"/>Tempi:
                
                Pellet (
                <input id="stats-show-p" data-dojo-type="dijit/form/CheckBox" value="1" checked onChange="sta.drawGraph()"/>modulazione
                <input id="stats-show-pl" data-dojo-type="dijit/form/CheckBox" value="2" checked onChange="sta.drawGraph()"/>minimo
                ) 
                <input id="stats-show-g" data-dojo-type="dijit/form/CheckBox" value="3" checked onChange="sta.drawGraph()"/>Gas
            </div>
            <div>
                Temperature:
                <input id="stats-show-ti" data-dojo-type="dijit/form/CheckBox" value="4" onChange="sta.drawGraph()"/>interne
                <input id="stats-show-te" data-dojo-type="dijit/form/CheckBox" value="5" onChange="sta.drawGraph()"/>esterne
                (
                <input id="stats-show-tmin" data-dojo-type="dijit/form/CheckBox" value="6" checked onChange="sta.drawGraph()"/>min
                <input id="stats-show-tmax" data-dojo-type="dijit/form/CheckBox" value="7" checked onChange="sta.drawGraph()"/>max
                <input id="stats-show-tavg" data-dojo-type="dijit/form/CheckBox" value="8" checked onChange="sta.drawGraph()"/>avg
                )
        </div>
        <div id="stats-total">
			<div>
				<span id="stats-total-pellet"></span>
				<span id="stats-total-pellet-mod"></span>
				<span id="stats-total-pellet-min"></span>
			</div>
			<div id="stats-total-gas">
			</div>
		</div>
    </div>
    </div>
    </div><!-- stats controls-->
    <div id="stats-graph">
    </div>
    <div id="stats-legend">
    </div>
</div><!-- stats area-->

</div>

<script src="utils.js?20181129"></script>
<script src="production.js?20181129"></script>
<script src="status.js?20190930"></script>
<script src="events.js?20181217"></script>
<script src="program.js?20190212"></script>
<script src="history.js?20181217"></script>
<script src="stats.js?20181217"></script>
<script language="javascript">
require([
    "dojo/ready",
    "dojo/dom-class",
    "dojo/dom-style",
    "dijit/form/NumberTextBox",
    "dijit/form/Select",
    "dojo/parser"], 
function(ready,dclass, style)
{
	ready(function(){
        dclass.toggle("loading", "hidden");
        style.set("content", "visibility", "visible");
        sts.update();
        evt.update();
        prg.update();
        window.setTimeout( function(){ 
            hst.startup();
            sta.startup();
        }, 500 );
	});
});
</script>
</body>
</html>
